@use 'win95-mixins' as *;

@tailwind base;
@tailwind components;
@tailwind utilities;

// =============================================================================
// GLOBAL STYLES - Spell-Crafting Unfolding Game
// =============================================================================

:root {
    // Base Colors (Default / Classic)
    --win95-gray: #c0c0c0;
    --win95-dark-gray: #808080;
    --win95-light-gray: #dfdfdf;
    --win95-white: #ffffff;
    --win95-black: #000000;
    --win95-blue: #000080;
    --win95-blue-start: #000080;
    --win95-blue-end: #1084d0;
    --win95-teal: #008080;

    // Derived Colors (Pre-calculated for css usage where sass functions fail)
    --win95-gray-dark: #b4b4b4; // darken 5%

    // Fonts
    --win95-font-system: 'Tahoma', 'MS Sans Serif', 'Segoe UI', sans-serif;
    --win95-font-mono: 'Courier New', 'Consolas', monospace;
}

// THEME: Dark Mode
body.theme-dark {
    --win95-gray: #404040;
    --win95-dark-gray: #202020;
    --win95-light-gray: #606060;
    --win95-white: #e0e0e0;
    --win95-black: #ffffff; // Text is white
    --win95-blue: #6060ff;
    --win95-blue-start: #2a2a2a;
    --win95-blue-end: #3a3a3a;
    --win95-teal: #1a1a1a; // Desktop background
    --win95-gray-dark: #303030;
}

// THEME: Ocean Blue
body.theme-ocean {
    --win95-gray: #a0b0c0;
    --win95-dark-gray: #607080;
    --win95-light-gray: #c0d0e0;
    --win95-white: #f0f8ff;
    --win95-black: #001020;
    --win95-blue: #004080;
    --win95-blue-start: #004080;
    --win95-blue-end: #0080c0;
    --win95-teal: #006090;
    --win95-gray-dark: #90a0b0;
}

// THEME: Forest Green
body.theme-forest {
    --win95-gray: #a0c0a0;
    --win95-dark-gray: #608060;
    --win95-light-gray: #c0e0c0;
    --win95-white: #f0fff0;
    --win95-black: #002000;
    --win95-blue: #006000;
    --win95-blue-start: #206020;
    --win95-blue-end: #40a040;
    --win95-teal: #004020;
    --win95-gray-dark: #90b090;
}

// THEME: High Contrast
body.theme-contrast {
    --win95-gray: #ffffff;
    --win95-dark-gray: #000000; // Borders
    --win95-light-gray: #ffffff;
    --win95-white: #ffffff;
    --win95-black: #000000;
    --win95-blue: #000000; // Selection
    --win95-blue-start: #000000;
    --win95-blue-end: #000000;
    --win95-teal: #ffffff;
    --win95-gray-dark: #dddddd;
}

* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

html,
body {
    height: 100%;
    width: 100%;
    overflow: hidden;
}

body {
    background-color: var(--win95-teal);
    font-family: var(--win95-font-system);
    font-size: 12px;
    color: var(--win95-black);
    // Disable text smoothing for authentic retro look
    -webkit-font-smoothing: none;
    -moz-osx-font-smoothing: unset;
}


// Win95 styled scrollbars
::-webkit-scrollbar {
    width: 16px;
    height: 16px;
}

::-webkit-scrollbar-track {
    background: repeating-conic-gradient(#c0c0c0 0% 25%, #ffffff 0% 50%) 50% / 2px 2px;
}

::-webkit-scrollbar-thumb {
    background-color: #c0c0c0;
    border: 2px solid;
    border-color: #ffffff #808080 #808080 #ffffff;
}

::-webkit-scrollbar-thumb:hover {
    background-color: #d0d0d0;
}

::-webkit-scrollbar-corner {
    background-color: #c0c0c0;
}

::-webkit-scrollbar-button {
    background-color: #c0c0c0;
    border: 2px solid;
    border-color: #ffffff #808080 #808080 #ffffff;
    height: 16px;
}

::-webkit-scrollbar-button:active {
    border-color: #808080 #ffffff #ffffff #808080;
}

// Win95 styled checkboxes
input[type="checkbox"] {
    appearance: none;
    -webkit-appearance: none;
    width: 13px;
    height: 13px;
    background-color: #ffffff;
    border: 2px solid;
    border-color: #808080 #ffffff #ffffff #808080;
    cursor: pointer;
    position: relative;
    vertical-align: middle;

    &:checked::after {
        content: 'âœ“';
        position: absolute;
        top: -2px;
        left: 1px;
        font-size: 12px;
        font-weight: bold;
        color: #000000;
    }

    &:active {
        background-color: #c0c0c0;
    }
}

// Desktop area
.desktop {
    width: 100%;
    height: 100%;
    position: relative;
    padding: 8px;
    overflow: hidden;
}

// Standard button class
.btn {
    @include win95-button;

    &.btn-primary {
        background-color: $win95-gray;
    }

    &.btn-danger {
        color: #800000;
    }
}

// Panel styling
.panel {
    @include win95-panel;
    padding: 8px;
}

// Inset area (for text displays, logs, etc.)
.inset {
    @include win95-inset;
    padding: 4px;
}

// Input fields
input[type="text"],
input[type="number"],
textarea {
    @include win95-input;
}

// Select dropdowns
select {
    @include win95-input;
    cursor: pointer;
}

// Lists
.list-box {
    @include win95-listbox;
}

// Progress bars
.progress {
    @include win95-progress-bar;
}

// Group boxes
fieldset {
    @include win95-groupbox;
}

// Utility spacing
.mt-1 {
    margin-top: 4px;
}

.mt-2 {
    margin-top: 8px;
}

.mt-3 {
    margin-top: 12px;
}

.mb-1 {
    margin-bottom: 4px;
}

.mb-2 {
    margin-bottom: 8px;
}

.mb-3 {
    margin-bottom: 12px;
}

.ml-1 {
    margin-left: 4px;
}

.ml-2 {
    margin-left: 8px;
}

.mr-1 {
    margin-right: 4px;
}

.mr-2 {
    margin-right: 8px;
}

.p-1 {
    padding: 4px;
}

.p-2 {
    padding: 8px;
}

// Flexbox utilities
.d-flex {
    display: flex;
}

.flex-column {
    flex-direction: column;
}

.flex-row {
    flex-direction: row;
}

.flex-wrap {
    flex-wrap: wrap;
}

.align-center {
    align-items: center;
}

.justify-between {
    justify-content: space-between;
}

.justify-center {
    justify-content: center;
}

.gap-1 {
    gap: 4px;
}

.gap-2 {
    gap: 8px;
}

// Text utilities
.text-center {
    text-align: center;
}

.text-bold {
    font-weight: bold;
}

.text-mono {
    font-family: $win95-font-mono;
}

// Resource display styling
.resource-display {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 4px 8px;
    @include win95-inset;
    background-color: $win95-gray;

    .resource-label {
        font-weight: bold;
        min-width: 60px;
    }

    .resource-value {
        font-family: $win95-font-mono;
        min-width: 50px;
        text-align: right;
    }
}

// Stat display
.stat-row {
    display: flex;
    justify-content: space-between;
    padding: 2px 4px;
    border-bottom: 1px solid $win95-light-gray;

    &:last-child {
        border-bottom: none;
    }

    .stat-name {
        font-weight: bold;
    }

    .stat-value {
        font-family: $win95-font-mono;
    }
}

// Health/Mana bars
.bar-container {
    @include win95-inset;
    height: 18px;
    padding: 2px;
    background-color: $win95-dark-gray;
    position: relative;

    .bar-fill {
        height: 100%;
        transition: width 0.2s ease;

        &.health {
            background-color: #00aa00;
        }

        &.mana {
            background-color: #0066cc;
        }

        &.experience {
            background-color: #cc9900;
        }
    }

    .bar-text {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 10px;
        color: $win95-white;
        text-shadow: 1px 1px 0 $win95-black;
    }
}

// =============================================================================
// THEMES
// =============================================================================
.theme-dark {
    background-color: #1a1a1a;
}

.theme-ocean {
    background-color: #006994;
}

.theme-forest {
    background-color: #228b22;
}

.theme-contrast {
    background-color: #000000;
}